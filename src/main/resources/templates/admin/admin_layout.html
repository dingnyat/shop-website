<!DOCTYPE html>
<html lang="en" layout:decorate="~{layout}" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">
<head>
  <title layout:title-pattern="$CONTENT_TITLE - $LAYOUT_TITLE">Admin Management</title>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
  <style>
    .country-flag {
      width: 25%;
      height: 25%;
    }
  </style>
  <script>
      $(function () {
          let locale = Cookies.get("current-locale");
          let src, alt;
          if (locale === 'vi') {
              src = "/img/flags/vn.svg";
              alt = "vi";
          } else if (locale === 'en') {
              src = "/img/flags/us.svg";
              alt = "en";
          } else if (locale === 'ja') {
              src = "/img/flags/jp.svg";
              alt = "ja";
          } else if (locale === 'zh') {
              src = "/img/flags/cn.svg";
              alt = "zh";
          }
          $("#selected-flags").attr({
              src: src,
              alt: alt
          });
      });
  </script>
</head>
<body>
<header layout:fragment="header">
  <nav class="navbar navbar-expand-lg navbar-light justify-content-between" style="background-color: #563d7c;">
    <a class="navbar-brand text-light" href="#">
      <img th:src="@{/favicon.ico}" alt="logo" class="d-inline-block align-top rounded img-thumbnail" width="40px"
           height="40px" src="#">
    </a>
    <div class="collapse navbar-collapse">
      <div class="navbar-nav">
        <a class="nav-item nav-link text-light" href="#">Home</a>
        <a class="nav-item nav-link text-light" href="#">Blog</a>
        <a class="nav-item nav-link text-light" href="#"><strong>About me</strong></a>
      </div>
    </div>
    <div>
      <ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex">
        <li class="nav-item dropdown">
          <a class="nav-item nav-link dropdown-toggle mx-2" href="#" id="bd-versions" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
            <img id="selected-flags" th:src="@{/img/flags/vn.svg}" alt="vn" src="/static/img/flags/vn.svg">
          </a>
          <div class="dropdown-menu dropdown-menu-right"
               aria-labelledby="bd-versions">
            <a class="dropdown-item" th:href="@{${#httpServletRequest.requestURI} + '?lang=vi'}">
              <img class="country-flag" th:src="@{/img/flags/vn.svg}" alt="vn" src="/static/img/flags/vn.svg">
              Vietnamese
            </a>
            <a class="dropdown-item" th:href="@{${#httpServletRequest.requestURI} + '?lang=en'}">
              <img class="country-flag" th:src="@{/img/flags/us.svg}" alt="us" src="/static/img/flags/us.svg">
              English
            </a>
            <a class="dropdown-item" th:href="@{${#httpServletRequest.requestURI} + '?lang=ja'}">
              <img class="country-flag" th:src="@{/img/flags/jp.svg}" alt="jp" src="/static/img/flags/jp.svg">
              Japanese
            </a>
            <a class="dropdown-item" th:href="@{${#httpServletRequest.requestURI} + '?lang=zh'}">
              <img class="country-flag" th:src="@{/img/flags/cn.svg}" alt="cn" src="/static/img/flags/cn.svg">
              Chinese
            </a>
          </div>
        </li>
      </ul>
    </div>
    <form class="form-inline">
      <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
      <button class="btn btn-outline-warning my-2 my-sm-0" type="submit">Search</button>
    </form>
  </nav>
</header>
</body>
</html>